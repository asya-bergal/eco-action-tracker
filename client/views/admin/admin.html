<template name="admin">
    <div id="admin-page">
        <h3 class='btn btn-success section' id='userDownload'>Download list of user email addresses</h3>
        <div id="approve-actions" class="section">
            <div class='section-header'>
                <span class="section-title">Actions for Global Approval</span>
                <span class="add-actions new-tag">Add Global Actions</span>
            </div>
            <div class="add-action-form edit-form">
                {{> addAction}}
            </div>
            {{#each actionRequest}}
            <div class="panel panel-default">
                <div class="panel-heading" role="tab" id="heading{{_id}}">
                    <h4 class="panel-title">
                        <div class="panel-title-box">
                            <!-- Action title -->
                            <div><a data-toggle="collapse" data-parent="#accordion" href="#collapse{{_id}}" aria-expanded="true" aria-controls="collapse{{_id}}">{{title}}</a></div>
                            <!-- Buttons for approval -->
                            <div>
                                <button class="btn btn-success approve"><label id="{{_id}}">Approve</label></button>
                                <button class="btn btn-danger not-approve"><label id="{{_id}}">Not Approve</label></button>
                            </div>
                        </div>
                    </h4>
                </div>
                <div id="collapse{{_id}}" class="panel-collapse collapse" data-toggle="false" role="tabpanel" aria-labelledby="heading{{_id}}">
                    <form class="form-horizontal action-display" id={{_id}}>
                        {{#each fields}}
                        <div class="form-group">
                            <!-- Name of field -->
                            <label class="control-label col-xs-4 col-sm-3 col-md-3" for={{name}}>{{name}}:</label>

                            <!-- Value of field -->
                            <div class="col-xs-8 col-sm-9 col-md-9">{{scale}} point(s) each</div>
                        </div>
                        {{/each}}
                        <input type="submit" id="submit{{_id}}" class="hidden">
                    </form>
                </div>
            </div>
            {{else}}
            <div class='empty-collection'>No actions for approval!</div>
            {{/each}}
        </div>
        <div id="globalActions" class="section">
            <div class="section-header">All Global Actions</div>
            <div class="item-listing">
                {{#each action in getActions}}
                <div class="item-container">
                    <a class="user-profile-link item-title" href="/user/{{_id}}">{{action.title}}</a>
                    <input type="image" class="remove-action user-button" id={{action._id}} src="/images/remove.svg" />
                </div>
                {{else}}
                <div class="empty-collection">No Global Actions</div>
                {{/each}}
            </div>
        </div>
        <div id="globalAdmins" class="section">
            <div class="section-header">
                <span class="section-title">All Global Admins</span> <span class="new-admin new-tag">Add Admin</span>
            </div>
            <form class="add-admin-form edit-form">
                <div class=" form-group">
                    <label>Username:</label> <input class="form-control" name="username" type="text">
                </div>
                <input class="btn btn-default" type="submit" value="Add Admin">        
            </form>
            <div class="item-listing">
                {{#each admin in getAdmins}}
                <div class="item-container">
                    <a class="user-profile-link item-title" href="/user/{{_id}}">{{admin.username}}</a>
                    {{#if diff admin._id}}
                    <input type="image" class="remove-admin user-button" id={{admin._id}} src="/images/remove.svg" />
                    {{/if}}
                </div>
                {{else}}
                <div class="empty-collection">No Global Admins</div>
                {{/each}}
            </div>
        </div>
    </div>
</template>